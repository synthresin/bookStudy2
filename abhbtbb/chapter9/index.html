<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
</body>
<script>
    function Graph() {
        var vertices = [];                  // 정점
        var adjList = new Dict();           // 인접리스트

        this.addVertexs = function( array ) {
            var len = array.length;
            for( var i = 0; i < len; i++ ) {
                this.addVertex( array[i] );
            }
        };

        this.addVertex = function(v){       // 정점을 추가하는 메소드
            vertices.push( v );
            adjList.set( v, [] );
        };

        this.addEdge = function(v, w){      // 간선을 추가하는 메소드
            adjList.get( v ).push( w );
            adjList.get( w ).push( v );
        };  

        this.getAdjList = function( key ) { return adjList.get( key ); }

        this.showVertices = function() {console.log(vertices);};

        this.showAdjLists = function() {
            var keys = adjList.keys();
            var result = keys.map( key => [ key, adjList.get(key).join(", ") ] );
            console.table(result);
        };

        this.toString = function() {
            var result = "";
            vertices.forEach( x => {
                result += `${x} ==> ${adjList.get(x).join(" ")}\n`;
            });
            console.log( result );
        };

        function bfsColorInit() {
            var temp = {};
            vertices.forEach( x => temp[x] = "white" );
            return temp; 
        }

        this.bfs = function( v, callback ) {
            var color = bfsColorInit();
            var queue = new Queue();

            queue.enqueue( v );

            while( !queue.isempty() ) {
                var u = queue.dequeue();
                var neighbors = adjList.get( u );

                color[u] = 'grey';
                neighbors.forEach( one => {
                    if( color[one] === 'white' ) {
                        color[one] = 'grey';
                        queue.enqueue( one );
                    }
                });
                color[u] = 'black';
                if( callback ) { callback( u ); }
            }


        }
    }

    function Dict() {
        var items = {};

        this.has = function( key ) { return key in items; };

        this.getItems = function() { return items; };

        this.get = function( key ) { return items[key]; };

        this.clear = function() { items = {}; };

        this.size = function() { return this.keys().length; };

        this.set = function( key, value ) { 
            items[key] = value; 
            return this.has(key) && this.get(key) === value;
        };
        
        this.remove = function( key ) {
            if( this.has( key ) ) {
                delete(items[key]); 
                return true;
            }
            return false;
        };
        
        this.keys = function() { 
            var temp = [];
            for( one in items) {
                if( items.hasOwnProperty(one) ) temp.push(one);
            }
            return temp;
        };

        this.values = function() {
            var temp = [];
            for( one in items) {
                if( items.hasOwnProperty(one) ) temp.push( items[one] );
            }
            return temp;
        };
    }

    function Queue() {
        var items = [];

        this.enqueue = item => items.push( item );
        
        this.dequeue = _ => items.shift();
        
        this.front = _ => items[0];
        
        this.clear = _ => items = [];
        
        this.size = _ => items.length;
        
        this.print = _ => console.log( items );

        this.isempty = _ => items.length === 0;
    }

    var t1 = new Graph();
    t1.addVertexs(['A','B','C','D','E','F','G','H', 'I']);
    t1.addEdge('A','B');
    t1.addEdge('A','C');
    t1.addEdge('A','D');
    t1.addEdge('B','E');
    t1.addEdge('B','F');
    t1.addEdge('C','D');
    t1.addEdge('C','G');
    t1.addEdge('D','G');
    t1.addEdge('D','H');
    t1.addEdge('E','I');
    
</script>
</html>